{"version":3,"sources":["1-leaflet-pulsating-icon.js","app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["(function(window) {\r\n\r\n    L.Icon.Pulse = L.DivIcon.extend({\r\n\r\n        options: {\r\n            className: '',\r\n            iconSize: [12,12],\r\n            fillColor: '#C70039',\r\n            color: '#C70039',\r\n            animate: true,\r\n            heartbeat: 1,\r\n        },\r\n\r\n        initialize: function (options) {\r\n            L.setOptions(this,options);\r\n\r\n            // css\r\n            \r\n            var uniqueClassName = 'lpi-'+ new Date().getTime()+'-'+Math.round(Math.random()*100000);\r\n\r\n            var before = ['background-color: '+this.options.fillColor];\r\n            var after = [\r\n\r\n                'box-shadow: 0 0 6px 2px '+this.options.color,\r\n\r\n                'animation: pulsate ' + this.options.heartbeat + 's ease-out',\r\n                'animation-iteration-count: infinite',\r\n                'animation-delay: '+ (this.options.heartbeat + .1) + 's',\r\n            ];\r\n\r\n            if (!this.options.animate){\r\n                after.push('animation: none');\r\n                after.push('box-shadow:none');\r\n            }\r\n\r\n            var css = [\r\n                '.'+uniqueClassName+'{'+before.join(';')+';}',\r\n                '.'+uniqueClassName+':after{'+after.join(';')+';}',\r\n            ].join('');\r\n \r\n            var el = document.createElement('style');\r\n            if (el.styleSheet){\r\n                el.styleSheet.cssText = css;\r\n            } else {\r\n                el.appendChild(document.createTextNode(css));\r\n            }\r\n\r\n            document.getElementsByTagName('head')[0].appendChild(el);\r\n\r\n            // apply css class\r\n\r\n            this.options.className = this.options.className+' leaflet-pulsing-icon '+uniqueClassName;\r\n\r\n            // initialize icon\r\n            \r\n            L.DivIcon.prototype.initialize.call(this, options);\r\n        \r\n        }\r\n    });\r\n\r\n    L.icon.pulse = function (options) {\r\n        return new L.Icon.Pulse(options);\r\n    };\r\n\r\n\r\n    L.Marker.Pulse = L.Marker.extend({\r\n        initialize: function (latlng,options) {\r\n            options.icon = L.icon.pulse(options);\r\n            L.Marker.prototype.initialize.call(this, latlng, options);\r\n        }\r\n    });\r\n\r\n    L.marker.pulse = function (latlng,options) {\r\n        return new L.Marker.Pulse(latlng,options);\r\n    };\r\n\r\n})(window);","$(document).ready(function () {\n\n\n\n    $.ajax({\n        contentType: \"application/json\",\n        dataType: \"json\",\n        type: 'GET',\n        url: \"https://fuinki-api.herokuapp.com/london/events/today\",\n        success: function (data) {\n            //Do stuff with the JSON data\n            console.log(data)\n        },\n        error: function (data, errorThrown) {\n            console.log('request failed :' + errorThrown);\n        }\n\n    });\n\n\n    // configure leaflet\n    var london_center = [51.5, -0.09];\n    var initial_zoom = 13\n\n    var mapbox_tiles = 'https://api.mapbox.com/styles/v1/11soma/cjgry9jr3000z2roggiqpzehx/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiMTFzb21hIiwiYSI6ImNqZDBuMjV6dDF2bWcyeG8xNDByZXpjbjgifQ.5B5BJIcEtqFELPs36GUxcA';\n    var map_attribution = 'Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery Â© <a href=\"http://mapbox.com\">Mapbox</a>';\n    var max_zoom = 18;\n\n\n    // create a leaflet instance\n    var map = L.map('mapContainer').setView(london_center, initial_zoom);\n\n    // add custom tiles to the map\n    L.tileLayer(mapbox_tiles, {\n        attribution: map_attribution,\n        maxZoom: max_zoom,\n        id: 'mapbox.mapbox-streets-v7',\n    }).addTo(map);\n\n\n    // create a custom pulsating marker\n    var pulsingIcon = L.icon.pulse({ iconSize: [8, 8], color: '#C70039' });\n\n    // var marker = L.marker([51.5, -0.09],{icon: pulsingIcon}).addTo(map);\n    // marker.bindPopup(\"a\");\n\n\n    var marker = L.marker([51.5, -0.087], { icon: pulsingIcon }).addTo(map);\n    marker.bindPopup(\"Music desu\");\n\n// var marker = L.marker([51.51, -0.088],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.5, -0.098],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.51, -0.095],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.49, -0.082],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.48, -0.082],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.49, -0.107],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.49, -0.091],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.51, -0.101],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.52, -0.079],{icon: pulsingIcon}).addTo(map);\n// var marker = L.marker([51.49, -0.088],{icon: pulsingIcon}).addTo(map);\n\n\n\n\n\n});\n\n\n"]}